import{r as a,d as H,e as Ne,j as y}from"./index-CSV-xdhG.js";function yn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return a.useMemo(()=>r=>{t.forEach(o=>o(r))},t)}const et=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function De(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function pt(e){return"nodeType"in e}function G(e){var t,n;return e?De(e)?e:pt(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function vt(e){const{Document:t}=G(e);return e instanceof t}function We(e){return De(e)?!1:e instanceof G(e).HTMLElement}function Ut(e){return e instanceof G(e).SVGElement}function Re(e){return e?De(e)?e.document:pt(e)?vt(e)?e:We(e)||Ut(e)?e.ownerDocument:document:document:document}const re=et?a.useLayoutEffect:a.useEffect;function bt(e){const t=a.useRef(e);return re(()=>{t.current=e}),a.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.current==null?void 0:t.current(...r)},[])}function xn(){const e=a.useRef(null),t=a.useCallback((r,o)=>{e.current=setInterval(r,o)},[]),n=a.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function Be(e,t){t===void 0&&(t=[e]);const n=a.useRef(e);return re(()=>{n.current!==e&&(n.current=e)},t),n}function $e(e,t){const n=a.useRef();return a.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function Je(e){const t=bt(e),n=a.useRef(null),r=a.useCallback(o=>{o!==n.current&&t?.(o,n.current),n.current=o},[]);return[n,r]}function ut(e){const t=a.useRef();return a.useEffect(()=>{t.current=e},[e]),t.current}let st={};function Ye(e,t){return a.useMemo(()=>{if(t)return t;const n=st[e]==null?0:st[e]+1;return st[e]=n,e+"-"+n},[e,t])}function Ht(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.reduce((i,s)=>{const l=Object.entries(s);for(const[c,u]of l){const d=i[c];d!=null&&(i[c]=d+e*u)}return i},{...t})}}const Ce=Ht(1),_e=Ht(-1);function wn(e){return"clientX"in e&&"clientY"in e}function mt(e){if(!e)return!1;const{KeyboardEvent:t}=G(e.target);return t&&e instanceof t}function Sn(e){if(!e)return!1;const{TouchEvent:t}=G(e.target);return t&&e instanceof t}function dt(e){if(Sn(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return wn(e)?{x:e.clientX,y:e.clientY}:null}const Pe=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[Pe.Translate.toString(e),Pe.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),kt="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Cn(e){return e.matches(kt)?e:e.querySelector(kt)}const Dn={display:"none"};function Rn(e){let{id:t,value:n}=e;return H.createElement("div",{id:t,style:Dn},n)}function En(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const o={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return H.createElement("div",{id:t,style:o,role:"status","aria-live":r,"aria-atomic":!0},n)}function Mn(){const[e,t]=a.useState("");return{announce:a.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const Gt=a.createContext(null);function In(e){const t=a.useContext(Gt);a.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function Tn(){const[e]=a.useState(()=>new Set),t=a.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[a.useCallback(r=>{let{type:o,event:i}=r;e.forEach(s=>{var l;return(l=s[o])==null?void 0:l.call(s,i)})},[e]),t]}const An={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},On={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function kn(e){let{announcements:t=On,container:n,hiddenTextDescribedById:r,screenReaderInstructions:o=An}=e;const{announce:i,announcement:s}=Mn(),l=Ye("DndLiveRegion"),[c,u]=a.useState(!1);if(a.useEffect(()=>{u(!0)},[]),In(a.useMemo(()=>({onDragStart(f){let{active:b}=f;i(t.onDragStart({active:b}))},onDragMove(f){let{active:b,over:g}=f;t.onDragMove&&i(t.onDragMove({active:b,over:g}))},onDragOver(f){let{active:b,over:g}=f;i(t.onDragOver({active:b,over:g}))},onDragEnd(f){let{active:b,over:g}=f;i(t.onDragEnd({active:b,over:g}))},onDragCancel(f){let{active:b,over:g}=f;i(t.onDragCancel({active:b,over:g}))}}),[i,t])),!c)return null;const d=H.createElement(H.Fragment,null,H.createElement(Rn,{id:r,value:o.draggable}),H.createElement(En,{id:l,announcement:s}));return n?Ne.createPortal(d,n):d}var P;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(P||(P={}));function Qe(){}function Nn(e,t){return a.useMemo(()=>({sensor:e,options:{}}),[e,t])}function Ln(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return a.useMemo(()=>[...t].filter(r=>r!=null),[...t])}const Z=Object.freeze({x:0,y:0});function jn(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function zn(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function Bn(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function Pn(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function Nt(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const Fn=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=Nt(t,t.left,t.top),i=[];for(const s of r){const{id:l}=s,c=n.get(l);if(c){const u=jn(Nt(c),o);i.push({id:l,data:{droppableContainer:s,value:u}})}}return i.sort(zn)};function Wn(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),o=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height),s=o-r,l=i-n;if(r<o&&n<i){const c=t.width*t.height,u=e.width*e.height,d=s*l,f=d/(c+u-d);return Number(f.toFixed(4))}return 0}const $n=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=[];for(const i of r){const{id:s}=i,l=n.get(s);if(l){const c=Wn(l,t);c>0&&o.push({id:s,data:{droppableContainer:i,value:c}})}}return o.sort(Bn)};function Yn(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function Vt(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Z}function Xn(e){return function(n){for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return o.reduce((s,l)=>({...s,top:s.top+e*l.y,bottom:s.bottom+e*l.y,left:s.left+e*l.x,right:s.right+e*l.x}),{...n})}}const Un=Xn(1);function Hn(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function Gn(e,t,n){const r=Hn(t);if(!r)return e;const{scaleX:o,scaleY:i,x:s,y:l}=r,c=e.left-s-(1-o)*parseFloat(n),u=e.top-l-(1-i)*parseFloat(n.slice(n.indexOf(" ")+1)),d=o?e.width/o:e.width,f=i?e.height/i:e.height;return{width:d,height:f,top:u,right:c+d,bottom:u+f,left:c}}const Vn={ignoreTransform:!1};function Ee(e,t){t===void 0&&(t=Vn);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:u,transformOrigin:d}=G(e).getComputedStyle(e);u&&(n=Gn(n,u,d))}const{top:r,left:o,width:i,height:s,bottom:l,right:c}=n;return{top:r,left:o,width:i,height:s,bottom:l,right:c}}function Lt(e){return Ee(e,{ignoreTransform:!0})}function Kn(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function qn(e,t){return t===void 0&&(t=G(e).getComputedStyle(e)),t.position==="fixed"}function Jn(e,t){t===void 0&&(t=G(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(o=>{const i=t[o];return typeof i=="string"?n.test(i):!1})}function yt(e,t){const n=[];function r(o){if(t!=null&&n.length>=t||!o)return n;if(vt(o)&&o.scrollingElement!=null&&!n.includes(o.scrollingElement))return n.push(o.scrollingElement),n;if(!We(o)||Ut(o)||n.includes(o))return n;const i=G(e).getComputedStyle(o);return o!==e&&Jn(o,i)&&n.push(o),qn(o,i)?n:r(o.parentNode)}return e?r(e):n}function Kt(e){const[t]=yt(e,1);return t??null}function at(e){return!et||!e?null:De(e)?e:pt(e)?vt(e)||e===Re(e).scrollingElement?window:We(e)?e:null:null}function qt(e){return De(e)?e.scrollX:e.scrollLeft}function Jt(e){return De(e)?e.scrollY:e.scrollTop}function ft(e){return{x:qt(e),y:Jt(e)}}var F;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(F||(F={}));function _t(e){return!et||!e?!1:e===document.scrollingElement}function Qt(e){const t={x:0,y:0},n=_t(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},o=e.scrollTop<=t.y,i=e.scrollLeft<=t.x,s=e.scrollTop>=r.y,l=e.scrollLeft>=r.x;return{isTop:o,isLeft:i,isBottom:s,isRight:l,maxScroll:r,minScroll:t}}const _n={x:.2,y:.2};function Qn(e,t,n,r,o){let{top:i,left:s,right:l,bottom:c}=n;r===void 0&&(r=10),o===void 0&&(o=_n);const{isTop:u,isBottom:d,isLeft:f,isRight:b}=Qt(e),g={x:0,y:0},A={x:0,y:0},v={height:t.height*o.y,width:t.width*o.x};return!u&&i<=t.top+v.height?(g.y=F.Backward,A.y=r*Math.abs((t.top+v.height-i)/v.height)):!d&&c>=t.bottom-v.height&&(g.y=F.Forward,A.y=r*Math.abs((t.bottom-v.height-c)/v.height)),!b&&l>=t.right-v.width?(g.x=F.Forward,A.x=r*Math.abs((t.right-v.width-l)/v.width)):!f&&s<=t.left+v.width&&(g.x=F.Backward,A.x=r*Math.abs((t.left+v.width-s)/v.width)),{direction:g,speed:A}}function Zn(e){if(e===document.scrollingElement){const{innerWidth:i,innerHeight:s}=window;return{top:0,left:0,right:i,bottom:s,width:i,height:s}}const{top:t,left:n,right:r,bottom:o}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:o,width:e.clientWidth,height:e.clientHeight}}function Zt(e){return e.reduce((t,n)=>Ce(t,ft(n)),Z)}function er(e){return e.reduce((t,n)=>t+qt(n),0)}function tr(e){return e.reduce((t,n)=>t+Jt(n),0)}function nr(e,t){if(t===void 0&&(t=Ee),!e)return;const{top:n,left:r,bottom:o,right:i}=t(e);Kt(e)&&(o<=0||i<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const rr=[["x",["left","right"],er],["y",["top","bottom"],tr]];class xt{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=yt(n),o=Zt(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[i,s,l]of rr)for(const c of s)Object.defineProperty(this,c,{get:()=>{const u=l(r),d=o[i]-u;return this.rect[c]+d},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Le{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var o;(o=this.target)==null||o.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function or(e){const{EventTarget:t}=G(e);return e instanceof t?e:Re(e)}function lt(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var Q;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Q||(Q={}));function jt(e){e.preventDefault()}function ir(e){e.stopPropagation()}var T;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(T||(T={}));const en={start:[T.Space,T.Enter],cancel:[T.Esc],end:[T.Space,T.Enter,T.Tab]},sr=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case T.Right:return{...n,x:n.x+25};case T.Left:return{...n,x:n.x-25};case T.Down:return{...n,y:n.y+25};case T.Up:return{...n,y:n.y-25}}};class tn{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new Le(Re(n)),this.windowListeners=new Le(G(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Q.Resize,this.handleCancel),this.windowListeners.add(Q.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Q.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&nr(r),n(Z)}handleKeyDown(t){if(mt(t)){const{active:n,context:r,options:o}=this.props,{keyboardCodes:i=en,coordinateGetter:s=sr,scrollBehavior:l="smooth"}=o,{code:c}=t;if(i.end.includes(c)){this.handleEnd(t);return}if(i.cancel.includes(c)){this.handleCancel(t);return}const{collisionRect:u}=r.current,d=u?{x:u.left,y:u.top}:Z;this.referenceCoordinates||(this.referenceCoordinates=d);const f=s(t,{active:n,context:r.current,currentCoordinates:d});if(f){const b=_e(f,d),g={x:0,y:0},{scrollableAncestors:A}=r.current;for(const v of A){const m=t.code,{isTop:w,isRight:S,isLeft:x,isBottom:D,maxScroll:I,minScroll:O}=Qt(v),h=Zn(v),p={x:Math.min(m===T.Right?h.right-h.width/2:h.right,Math.max(m===T.Right?h.left:h.left+h.width/2,f.x)),y:Math.min(m===T.Down?h.bottom-h.height/2:h.bottom,Math.max(m===T.Down?h.top:h.top+h.height/2,f.y))},k=m===T.Right&&!S||m===T.Left&&!x,R=m===T.Down&&!D||m===T.Up&&!w;if(k&&p.x!==f.x){const E=v.scrollLeft+b.x,B=m===T.Right&&E<=I.x||m===T.Left&&E>=O.x;if(B&&!b.y){v.scrollTo({left:E,behavior:l});return}B?g.x=v.scrollLeft-E:g.x=m===T.Right?v.scrollLeft-I.x:v.scrollLeft-O.x,g.x&&v.scrollBy({left:-g.x,behavior:l});break}else if(R&&p.y!==f.y){const E=v.scrollTop+b.y,B=m===T.Down&&E<=I.y||m===T.Up&&E>=O.y;if(B&&!b.x){v.scrollTo({top:E,behavior:l});return}B?g.y=v.scrollTop-E:g.y=m===T.Down?v.scrollTop-I.y:v.scrollTop-O.y,g.y&&v.scrollBy({top:-g.y,behavior:l});break}}this.handleMove(t,Ce(_e(f,this.referenceCoordinates),g))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}tn.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=en,onActivation:o}=t,{active:i}=n;const{code:s}=e.nativeEvent;if(r.start.includes(s)){const l=i.activatorNode.current;return l&&e.target!==l?!1:(e.preventDefault(),o?.({event:e.nativeEvent}),!0)}return!1}}];function zt(e){return!!(e&&"distance"in e)}function Bt(e){return!!(e&&"delay"in e)}class wt{constructor(t,n,r){var o;r===void 0&&(r=or(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:i}=t,{target:s}=i;this.props=t,this.events=n,this.document=Re(s),this.documentListeners=new Le(this.document),this.listeners=new Le(r),this.windowListeners=new Le(G(s)),this.initialCoordinates=(o=dt(i))!=null?o:Z,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(Q.Resize,this.handleCancel),this.windowListeners.add(Q.DragStart,jt),this.windowListeners.add(Q.VisibilityChange,this.handleCancel),this.windowListeners.add(Q.ContextMenu,jt),this.documentListeners.add(Q.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Bt(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(zt(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:r,onPending:o}=this.props;o(r,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(Q.Click,ir,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Q.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:o,props:i}=this,{onMove:s,options:{activationConstraint:l}}=i;if(!o)return;const c=(n=dt(t))!=null?n:Z,u=_e(o,c);if(!r&&l){if(zt(l)){if(l.tolerance!=null&&lt(u,l.tolerance))return this.handleCancel();if(lt(u,l.distance))return this.handleStart()}if(Bt(l)&&lt(u,l.tolerance))return this.handleCancel();this.handlePending(l,u);return}t.cancelable&&t.preventDefault(),s(c)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===T.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const ar={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class St extends wt{constructor(t){const{event:n}=t,r=Re(n.target);super(t,ar,r)}}St.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r?.({event:n}),!0)}}];const lr={move:{name:"mousemove"},end:{name:"mouseup"}};var ht;(function(e){e[e.RightClick=2]="RightClick"})(ht||(ht={}));class cr extends wt{constructor(t){super(t,lr,Re(t.event.target))}}cr.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===ht.RightClick?!1:(r?.({event:n}),!0)}}];const ct={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class ur extends wt{constructor(t){super(t,ct)}static setup(){return window.addEventListener(ct.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(ct.move.name,t)};function t(){}}}ur.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:o}=n;return o.length>1?!1:(r?.({event:n}),!0)}}];var je;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(je||(je={}));var Ze;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(Ze||(Ze={}));function dr(e){let{acceleration:t,activator:n=je.Pointer,canScroll:r,draggingRect:o,enabled:i,interval:s=5,order:l=Ze.TreeOrder,pointerCoordinates:c,scrollableAncestors:u,scrollableAncestorRects:d,delta:f,threshold:b}=e;const g=hr({delta:f,disabled:!i}),[A,v]=xn(),m=a.useRef({x:0,y:0}),w=a.useRef({x:0,y:0}),S=a.useMemo(()=>{switch(n){case je.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case je.DraggableRect:return o}},[n,o,c]),x=a.useRef(null),D=a.useCallback(()=>{const O=x.current;if(!O)return;const h=m.current.x*w.current.x,p=m.current.y*w.current.y;O.scrollBy(h,p)},[]),I=a.useMemo(()=>l===Ze.TreeOrder?[...u].reverse():u,[l,u]);a.useEffect(()=>{if(!i||!u.length||!S){v();return}for(const O of I){if(r?.(O)===!1)continue;const h=u.indexOf(O),p=d[h];if(!p)continue;const{direction:k,speed:R}=Qn(O,p,S,t,b);for(const E of["x","y"])g[E][k[E]]||(R[E]=0,k[E]=0);if(R.x>0||R.y>0){v(),x.current=O,A(D,s),m.current=R,w.current=k;return}}m.current={x:0,y:0},w.current={x:0,y:0},v()},[t,D,r,v,i,s,JSON.stringify(S),JSON.stringify(g),A,u,I,d,JSON.stringify(b)])}const fr={x:{[F.Backward]:!1,[F.Forward]:!1},y:{[F.Backward]:!1,[F.Forward]:!1}};function hr(e){let{delta:t,disabled:n}=e;const r=ut(t);return $e(o=>{if(n||!r||!o)return fr;const i={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[F.Backward]:o.x[F.Backward]||i.x===-1,[F.Forward]:o.x[F.Forward]||i.x===1},y:{[F.Backward]:o.y[F.Backward]||i.y===-1,[F.Forward]:o.y[F.Forward]||i.y===1}}},[n,t,r])}function gr(e,t){const n=t!=null?e.get(t):void 0,r=n?n.node.current:null;return $e(o=>{var i;return t==null?null:(i=r??o)!=null?i:null},[r,t])}function pr(e,t){return a.useMemo(()=>e.reduce((n,r)=>{const{sensor:o}=r,i=o.activators.map(s=>({eventName:s.eventName,handler:t(s.handler,r)}));return[...n,...i]},[]),[e,t])}var Fe;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Fe||(Fe={}));var gt;(function(e){e.Optimized="optimized"})(gt||(gt={}));const Pt=new Map;function vr(e,t){let{dragging:n,dependencies:r,config:o}=t;const[i,s]=a.useState(null),{frequency:l,measure:c,strategy:u}=o,d=a.useRef(e),f=m(),b=Be(f),g=a.useCallback(function(w){w===void 0&&(w=[]),!b.current&&s(S=>S===null?w:S.concat(w.filter(x=>!S.includes(x))))},[b]),A=a.useRef(null),v=$e(w=>{if(f&&!n)return Pt;if(!w||w===Pt||d.current!==e||i!=null){const S=new Map;for(let x of e){if(!x)continue;if(i&&i.length>0&&!i.includes(x.id)&&x.rect.current){S.set(x.id,x.rect.current);continue}const D=x.node.current,I=D?new xt(c(D),D):null;x.rect.current=I,I&&S.set(x.id,I)}return S}return w},[e,i,n,f,c]);return a.useEffect(()=>{d.current=e},[e]),a.useEffect(()=>{f||g()},[n,f]),a.useEffect(()=>{i&&i.length>0&&s(null)},[JSON.stringify(i)]),a.useEffect(()=>{f||typeof l!="number"||A.current!==null||(A.current=setTimeout(()=>{g(),A.current=null},l))},[l,f,g,...r]),{droppableRects:v,measureDroppableContainers:g,measuringScheduled:i!=null};function m(){switch(u){case Fe.Always:return!1;case Fe.BeforeDragging:return n;default:return!n}}}function nn(e,t){return $e(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function br(e,t){return nn(e,t)}function mr(e){let{callback:t,disabled:n}=e;const r=bt(t),o=a.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:i}=window;return new i(r)},[r,n]);return a.useEffect(()=>()=>o?.disconnect(),[o]),o}function tt(e){let{callback:t,disabled:n}=e;const r=bt(t),o=a.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(r)},[n]);return a.useEffect(()=>()=>o?.disconnect(),[o]),o}function yr(e){return new xt(Ee(e),e)}function Ft(e,t,n){t===void 0&&(t=yr);const[r,o]=a.useState(null);function i(){o(c=>{if(!e)return null;if(e.isConnected===!1){var u;return(u=c??n)!=null?u:null}const d=t(e);return JSON.stringify(c)===JSON.stringify(d)?c:d})}const s=mr({callback(c){if(e)for(const u of c){const{type:d,target:f}=u;if(d==="childList"&&f instanceof HTMLElement&&f.contains(e)){i();break}}}}),l=tt({callback:i});return re(()=>{i(),e?(l?.observe(e),s?.observe(document.body,{childList:!0,subtree:!0})):(l?.disconnect(),s?.disconnect())},[e]),r}function xr(e){const t=nn(e);return Vt(e,t)}const Wt=[];function wr(e){const t=a.useRef(e),n=$e(r=>e?r&&r!==Wt&&e&&t.current&&e.parentNode===t.current.parentNode?r:yt(e):Wt,[e]);return a.useEffect(()=>{t.current=e},[e]),n}function Sr(e){const[t,n]=a.useState(null),r=a.useRef(e),o=a.useCallback(i=>{const s=at(i.target);s&&n(l=>l?(l.set(s,ft(s)),new Map(l)):null)},[]);return a.useEffect(()=>{const i=r.current;if(e!==i){s(i);const l=e.map(c=>{const u=at(c);return u?(u.addEventListener("scroll",o,{passive:!0}),[u,ft(u)]):null}).filter(c=>c!=null);n(l.length?new Map(l):null),r.current=e}return()=>{s(e),s(i)};function s(l){l.forEach(c=>{const u=at(c);u?.removeEventListener("scroll",o)})}},[o,e]),a.useMemo(()=>e.length?t?Array.from(t.values()).reduce((i,s)=>Ce(i,s),Z):Zt(e):Z,[e,t])}function $t(e,t){t===void 0&&(t=[]);const n=a.useRef(null);return a.useEffect(()=>{n.current=null},t),a.useEffect(()=>{const r=e!==Z;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?_e(e,n.current):Z}function Cr(e){a.useEffect(()=>{if(!et)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n?.()}},e.map(t=>{let{sensor:n}=t;return n}))}function Dr(e,t){return a.useMemo(()=>e.reduce((n,r)=>{let{eventName:o,handler:i}=r;return n[o]=s=>{i(s,t)},n},{}),[e,t])}function rn(e){return a.useMemo(()=>e?Kn(e):null,[e])}const Yt=[];function Rr(e,t){t===void 0&&(t=Ee);const[n]=e,r=rn(n?G(n):null),[o,i]=a.useState(Yt);function s(){i(()=>e.length?e.map(c=>_t(c)?r:new xt(t(c),c)):Yt)}const l=tt({callback:s});return re(()=>{l?.disconnect(),s(),e.forEach(c=>l?.observe(c))},[e]),o}function Er(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return We(t)?t:e}function Mr(e){let{measure:t}=e;const[n,r]=a.useState(null),o=a.useCallback(u=>{for(const{target:d}of u)if(We(d)){r(f=>{const b=t(d);return f?{...f,width:b.width,height:b.height}:b});break}},[t]),i=tt({callback:o}),s=a.useCallback(u=>{const d=Er(u);i?.disconnect(),d&&i?.observe(d),r(d?t(d):null)},[t,i]),[l,c]=Je(s);return a.useMemo(()=>({nodeRef:l,rect:n,setRef:c}),[n,l,c])}const Ir=[{sensor:St,options:{}},{sensor:tn,options:{}}],Tr={current:{}},qe={draggable:{measure:Lt},droppable:{measure:Lt,strategy:Fe.WhileDragging,frequency:gt.Optimized},dragOverlay:{measure:Ee}};class ze extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const Ar={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new ze,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Qe},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:qe,measureDroppableContainers:Qe,windowRect:null,measuringScheduled:!1},Or={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Qe,draggableNodes:new Map,over:null,measureDroppableContainers:Qe},nt=a.createContext(Or),on=a.createContext(Ar);function kr(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new ze}}}function Nr(e,t){switch(t.type){case P.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case P.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case P.DragEnd:case P.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case P.RegisterDroppable:{const{element:n}=t,{id:r}=n,o=new ze(e.droppable.containers);return o.set(r,n),{...e,droppable:{...e.droppable,containers:o}}}case P.SetDroppableDisabled:{const{id:n,key:r,disabled:o}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;const s=new ze(e.droppable.containers);return s.set(n,{...i,disabled:o}),{...e,droppable:{...e.droppable,containers:s}}}case P.UnregisterDroppable:{const{id:n,key:r}=t,o=e.droppable.containers.get(n);if(!o||r!==o.key)return e;const i=new ze(e.droppable.containers);return i.delete(n),{...e,droppable:{...e.droppable,containers:i}}}default:return e}}function Lr(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:o}=a.useContext(nt),i=ut(r),s=ut(n?.id);return a.useEffect(()=>{if(!t&&!r&&i&&s!=null){if(!mt(i)||document.activeElement===i.target)return;const l=o.get(s);if(!l)return;const{activatorNode:c,node:u}=l;if(!c.current&&!u.current)return;requestAnimationFrame(()=>{for(const d of[c.current,u.current]){if(!d)continue;const f=Cn(d);if(f){f.focus();break}}})}},[r,t,o,s,i]),null}function jr(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((o,i)=>i({transform:o,...r}),n):n}function zr(e){return a.useMemo(()=>({draggable:{...qe.draggable,...e?.draggable},droppable:{...qe.droppable,...e?.droppable},dragOverlay:{...qe.dragOverlay,...e?.dragOverlay}}),[e?.draggable,e?.droppable,e?.dragOverlay])}function Br(e){let{activeNode:t,measure:n,initialRect:r,config:o=!0}=e;const i=a.useRef(!1),{x:s,y:l}=typeof o=="boolean"?{x:o,y:o}:o;re(()=>{if(!s&&!l||!t){i.current=!1;return}if(i.current||!r)return;const u=t?.node.current;if(!u||u.isConnected===!1)return;const d=n(u),f=Vt(d,r);if(s||(f.x=0),l||(f.y=0),i.current=!0,Math.abs(f.x)>0||Math.abs(f.y)>0){const b=Kt(u);b&&b.scrollBy({top:f.y,left:f.x})}},[t,s,l,r,n])}const sn=a.createContext({...Z,scaleX:1,scaleY:1});var pe;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(pe||(pe={}));const Pr=a.memo(function(t){var n,r,o,i;let{id:s,accessibility:l,autoScroll:c=!0,children:u,sensors:d=Ir,collisionDetection:f=$n,measuring:b,modifiers:g,...A}=t;const v=a.useReducer(Nr,void 0,kr),[m,w]=v,[S,x]=Tn(),[D,I]=a.useState(pe.Uninitialized),O=D===pe.Initialized,{draggable:{active:h,nodes:p,translate:k},droppable:{containers:R}}=m,E=h!=null?p.get(h):null,B=a.useRef({initial:null,translated:null}),W=a.useMemo(()=>{var X;return h!=null?{id:h,data:(X=E?.data)!=null?X:Tr,rect:B}:null},[h,E]),$=a.useRef(null),[z,L]=a.useState(null),[C,j]=a.useState(null),M=Be(A,Object.values(A)),oe=Ye("DndDescribedBy",s),Xe=a.useMemo(()=>R.getEnabled(),[R]),U=zr(b),{droppableRects:ie,measureDroppableContainers:ve,measuringScheduled:Me}=vr(Xe,{dragging:O,dependencies:[k.x,k.y],config:U.droppable}),J=gr(p,h),Ue=a.useMemo(()=>C?dt(C):null,[C]),ce=mn(),se=br(J,U.draggable.measure);Br({activeNode:h!=null?p.get(h):null,config:ce.layoutShiftCompensation,initialRect:se,measure:U.draggable.measure});const N=Ft(J,U.draggable.measure,se),Ie=Ft(J?J.parentElement:null),ee=a.useRef({activatorEvent:null,active:null,activeNode:J,collisionRect:null,collisions:null,droppableRects:ie,draggableNodes:p,draggingNode:null,draggingNodeRect:null,droppableContainers:R,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),be=R.getNodeFor((n=ee.current.over)==null?void 0:n.id),ae=Mr({measure:U.dragOverlay.measure}),me=(r=ae.nodeRef.current)!=null?r:J,ye=O?(o=ae.rect)!=null?o:N:null,Dt=!!(ae.nodeRef.current&&ae.rect),Rt=xr(Dt?null:N),rt=rn(me?G(me):null),ue=wr(O?be??J:null),He=Rr(ue),Ge=jr(g,{transform:{x:k.x-Rt.x,y:k.y-Rt.y,scaleX:1,scaleY:1},activatorEvent:C,active:W,activeNodeRect:N,containerNodeRect:Ie,draggingNodeRect:ye,over:ee.current.over,overlayNodeRect:ae.rect,scrollableAncestors:ue,scrollableAncestorRects:He,windowRect:rt}),Et=Ue?Ce(Ue,k):null,Mt=Sr(ue),dn=$t(Mt),fn=$t(Mt,[N]),xe=Ce(Ge,dn),we=ye?Un(ye,Ge):null,Te=W&&we?f({active:W,collisionRect:we,droppableRects:ie,droppableContainers:Xe,pointerCoordinates:Et}):null,It=Pn(Te,"id"),[de,Tt]=a.useState(null),hn=Dt?Ge:Ce(Ge,fn),gn=Yn(hn,(i=de?.rect)!=null?i:null,N),ot=a.useRef(null),At=a.useCallback((X,V)=>{let{sensor:K,options:fe}=V;if($.current==null)return;const _=p.get($.current);if(!_)return;const q=X.nativeEvent,te=new K({active:$.current,activeNode:_,event:q,options:fe,context:ee,onAbort(Y){if(!p.get(Y))return;const{onDragAbort:ne}=M.current,le={id:Y};ne?.(le),S({type:"onDragAbort",event:le})},onPending(Y,he,ne,le){if(!p.get(Y))return;const{onDragPending:Oe}=M.current,ge={id:Y,constraint:he,initialCoordinates:ne,offset:le};Oe?.(ge),S({type:"onDragPending",event:ge})},onStart(Y){const he=$.current;if(he==null)return;const ne=p.get(he);if(!ne)return;const{onDragStart:le}=M.current,Ae={activatorEvent:q,active:{id:he,data:ne.data,rect:B}};Ne.unstable_batchedUpdates(()=>{le?.(Ae),I(pe.Initializing),w({type:P.DragStart,initialCoordinates:Y,active:he}),S({type:"onDragStart",event:Ae}),L(ot.current),j(q)})},onMove(Y){w({type:P.DragMove,coordinates:Y})},onEnd:Se(P.DragEnd),onCancel:Se(P.DragCancel)});ot.current=te;function Se(Y){return async function(){const{active:ne,collisions:le,over:Ae,scrollAdjustedTranslate:Oe}=ee.current;let ge=null;if(ne&&Oe){const{cancelDrop:ke}=M.current;ge={activatorEvent:q,active:ne,collisions:le,delta:Oe,over:Ae},Y===P.DragEnd&&typeof ke=="function"&&await Promise.resolve(ke(ge))&&(Y=P.DragCancel)}$.current=null,Ne.unstable_batchedUpdates(()=>{w({type:Y}),I(pe.Uninitialized),Tt(null),L(null),j(null),ot.current=null;const ke=Y===P.DragEnd?"onDragEnd":"onDragCancel";if(ge){const it=M.current[ke];it?.(ge),S({type:ke,event:ge})}})}}},[p]),pn=a.useCallback((X,V)=>(K,fe)=>{const _=K.nativeEvent,q=p.get(fe);if($.current!==null||!q||_.dndKit||_.defaultPrevented)return;const te={active:q};X(K,V.options,te)===!0&&(_.dndKit={capturedBy:V.sensor},$.current=fe,At(K,V))},[p,At]),Ot=pr(d,pn);Cr(d),re(()=>{N&&D===pe.Initializing&&I(pe.Initialized)},[N,D]),a.useEffect(()=>{const{onDragMove:X}=M.current,{active:V,activatorEvent:K,collisions:fe,over:_}=ee.current;if(!V||!K)return;const q={active:V,activatorEvent:K,collisions:fe,delta:{x:xe.x,y:xe.y},over:_};Ne.unstable_batchedUpdates(()=>{X?.(q),S({type:"onDragMove",event:q})})},[xe.x,xe.y]),a.useEffect(()=>{const{active:X,activatorEvent:V,collisions:K,droppableContainers:fe,scrollAdjustedTranslate:_}=ee.current;if(!X||$.current==null||!V||!_)return;const{onDragOver:q}=M.current,te=fe.get(It),Se=te&&te.rect.current?{id:te.id,rect:te.rect.current,data:te.data,disabled:te.disabled}:null,Y={active:X,activatorEvent:V,collisions:K,delta:{x:_.x,y:_.y},over:Se};Ne.unstable_batchedUpdates(()=>{Tt(Se),q?.(Y),S({type:"onDragOver",event:Y})})},[It]),re(()=>{ee.current={activatorEvent:C,active:W,activeNode:J,collisionRect:we,collisions:Te,droppableRects:ie,draggableNodes:p,draggingNode:me,draggingNodeRect:ye,droppableContainers:R,over:de,scrollableAncestors:ue,scrollAdjustedTranslate:xe},B.current={initial:ye,translated:we}},[W,J,Te,we,p,me,ye,ie,R,de,ue,xe]),dr({...ce,delta:k,draggingRect:we,pointerCoordinates:Et,scrollableAncestors:ue,scrollableAncestorRects:He});const vn=a.useMemo(()=>({active:W,activeNode:J,activeNodeRect:N,activatorEvent:C,collisions:Te,containerNodeRect:Ie,dragOverlay:ae,draggableNodes:p,droppableContainers:R,droppableRects:ie,over:de,measureDroppableContainers:ve,scrollableAncestors:ue,scrollableAncestorRects:He,measuringConfiguration:U,measuringScheduled:Me,windowRect:rt}),[W,J,N,C,Te,Ie,ae,p,R,ie,de,ve,ue,He,U,Me,rt]),bn=a.useMemo(()=>({activatorEvent:C,activators:Ot,active:W,activeNodeRect:N,ariaDescribedById:{draggable:oe},dispatch:w,draggableNodes:p,over:de,measureDroppableContainers:ve}),[C,Ot,W,N,w,oe,p,de,ve]);return H.createElement(Gt.Provider,{value:x},H.createElement(nt.Provider,{value:bn},H.createElement(on.Provider,{value:vn},H.createElement(sn.Provider,{value:gn},u)),H.createElement(Lr,{disabled:l?.restoreFocus===!1})),H.createElement(kn,{...l,hiddenTextDescribedById:oe}));function mn(){const X=z?.autoScrollEnabled===!1,V=typeof c=="object"?c.enabled===!1:c===!1,K=O&&!X&&!V;return typeof c=="object"?{...c,enabled:K}:{enabled:K}}}),Fr=a.createContext(null),Xt="button",Wr="Draggable";function $r(e){let{id:t,data:n,disabled:r=!1,attributes:o}=e;const i=Ye(Wr),{activators:s,activatorEvent:l,active:c,activeNodeRect:u,ariaDescribedById:d,draggableNodes:f,over:b}=a.useContext(nt),{role:g=Xt,roleDescription:A="draggable",tabIndex:v=0}=o??{},m=c?.id===t,w=a.useContext(m?sn:Fr),[S,x]=Je(),[D,I]=Je(),O=Dr(s,t),h=Be(n);re(()=>(f.set(t,{id:t,key:i,node:S,activatorNode:D,data:h}),()=>{const k=f.get(t);k&&k.key===i&&f.delete(t)}),[f,t]);const p=a.useMemo(()=>({role:g,tabIndex:v,"aria-disabled":r,"aria-pressed":m&&g===Xt?!0:void 0,"aria-roledescription":A,"aria-describedby":d.draggable}),[r,g,v,m,A,d.draggable]);return{active:c,activatorEvent:l,activeNodeRect:u,attributes:p,isDragging:m,listeners:r?void 0:O,node:S,over:b,setNodeRef:x,setActivatorNodeRef:I,transform:w}}function Yr(){return a.useContext(on)}const Xr="Droppable",Ur={timeout:25};function Hr(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:o}=e;const i=Ye(Xr),{active:s,dispatch:l,over:c,measureDroppableContainers:u}=a.useContext(nt),d=a.useRef({disabled:n}),f=a.useRef(!1),b=a.useRef(null),g=a.useRef(null),{disabled:A,updateMeasurementsFor:v,timeout:m}={...Ur,...o},w=Be(v??r),S=a.useCallback(()=>{if(!f.current){f.current=!0;return}g.current!=null&&clearTimeout(g.current),g.current=setTimeout(()=>{u(Array.isArray(w.current)?w.current:[w.current]),g.current=null},m)},[m]),x=tt({callback:S,disabled:A||!s}),D=a.useCallback((p,k)=>{x&&(k&&(x.unobserve(k),f.current=!1),p&&x.observe(p))},[x]),[I,O]=Je(D),h=Be(t);return a.useEffect(()=>{!x||!I.current||(x.disconnect(),f.current=!1,x.observe(I.current))},[I,x]),a.useEffect(()=>(l({type:P.RegisterDroppable,element:{id:r,key:i,disabled:n,node:I,rect:b,data:h}}),()=>l({type:P.UnregisterDroppable,key:i,id:r})),[r]),a.useEffect(()=>{n!==d.current.disabled&&(l({type:P.SetDroppableDisabled,id:r,key:i,disabled:n}),d.current.disabled=n)},[r,i,n,l]),{active:s,rect:b,isOver:c?.id===r,node:I,over:c,setNodeRef:O}}function Ct(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function Gr(e,t){return e.reduce((n,r,o)=>{const i=t.get(r);return i&&(n[o]=i),n},Array(e.length))}function Ve(e){return e!==null&&e>=0}function Vr(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function Kr(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const an=e=>{let{rects:t,activeIndex:n,overIndex:r,index:o}=e;const i=Ct(t,r,n),s=t[o],l=i[o];return!l||!s?null:{x:l.left-s.left,y:l.top-s.top,scaleX:l.width/s.width,scaleY:l.height/s.height}},Ke={scaleX:1,scaleY:1},qr=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:o,rects:i,overIndex:s}=e;const l=(t=i[n])!=null?t:r;if(!l)return null;if(o===n){const u=i[s];return u?{x:0,y:n<s?u.top+u.height-(l.top+l.height):u.top-l.top,...Ke}:null}const c=Jr(i,o,n);return o>n&&o<=s?{x:0,y:-l.height-c,...Ke}:o<n&&o>=s?{x:0,y:l.height+c,...Ke}:{x:0,y:0,...Ke}};function Jr(e,t,n){const r=e[t],o=e[t-1],i=e[t+1];return r?n<t?o?r.top-(o.top+o.height):i?i.top-(r.top+r.height):0:i?i.top-(r.top+r.height):o?r.top-(o.top+o.height):0:0}const ln="Sortable",cn=H.createContext({activeIndex:-1,containerId:ln,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:an,disabled:{draggable:!1,droppable:!1}});function _r(e){let{children:t,id:n,items:r,strategy:o=an,disabled:i=!1}=e;const{active:s,dragOverlay:l,droppableRects:c,over:u,measureDroppableContainers:d}=Yr(),f=Ye(ln,n),b=l.rect!==null,g=a.useMemo(()=>r.map(O=>typeof O=="object"&&"id"in O?O.id:O),[r]),A=s!=null,v=s?g.indexOf(s.id):-1,m=u?g.indexOf(u.id):-1,w=a.useRef(g),S=!Vr(g,w.current),x=m!==-1&&v===-1||S,D=Kr(i);re(()=>{S&&A&&d(g)},[S,g,A,d]),a.useEffect(()=>{w.current=g},[g]);const I=a.useMemo(()=>({activeIndex:v,containerId:f,disabled:D,disableTransforms:x,items:g,overIndex:m,useDragOverlay:b,sortedRects:Gr(g,c),strategy:o}),[v,f,D.draggable,D.droppable,x,g,m,c,b,o]);return H.createElement(cn.Provider,{value:I},t)}const Qr=e=>{let{id:t,items:n,activeIndex:r,overIndex:o}=e;return Ct(n,r,o).indexOf(t)},Zr=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:o,items:i,newIndex:s,previousItems:l,previousContainerId:c,transition:u}=e;return!u||!r||l!==i&&o===s?!1:n?!0:s!==o&&t===c},eo={duration:200,easing:"ease"},un="transform",to=Pe.Transition.toString({property:un,duration:0,easing:"linear"}),no={roleDescription:"sortable"};function ro(e){let{disabled:t,index:n,node:r,rect:o}=e;const[i,s]=a.useState(null),l=a.useRef(n);return re(()=>{if(!t&&n!==l.current&&r.current){const c=o.current;if(c){const u=Ee(r.current,{ignoreTransform:!0}),d={x:c.left-u.left,y:c.top-u.top,scaleX:c.width/u.width,scaleY:c.height/u.height};(d.x||d.y)&&s(d)}}n!==l.current&&(l.current=n)},[t,n,r,o]),a.useEffect(()=>{i&&s(null)},[i]),i}function oo(e){let{animateLayoutChanges:t=Zr,attributes:n,disabled:r,data:o,getNewIndex:i=Qr,id:s,strategy:l,resizeObserverConfig:c,transition:u=eo}=e;const{items:d,containerId:f,activeIndex:b,disabled:g,disableTransforms:A,sortedRects:v,overIndex:m,useDragOverlay:w,strategy:S}=a.useContext(cn),x=io(r,g),D=d.indexOf(s),I=a.useMemo(()=>({sortable:{containerId:f,index:D,items:d},...o}),[f,o,D,d]),O=a.useMemo(()=>d.slice(d.indexOf(s)),[d,s]),{rect:h,node:p,isOver:k,setNodeRef:R}=Hr({id:s,data:I,disabled:x.droppable,resizeObserverConfig:{updateMeasurementsFor:O,...c}}),{active:E,activatorEvent:B,activeNodeRect:W,attributes:$,setNodeRef:z,listeners:L,isDragging:C,over:j,setActivatorNodeRef:M,transform:oe}=$r({id:s,data:I,attributes:{...no,...n},disabled:x.draggable}),Xe=yn(R,z),U=!!E,ie=U&&!A&&Ve(b)&&Ve(m),ve=!w&&C,Me=ve&&ie?oe:null,Ue=ie?Me??(l??S)({rects:v,activeNodeRect:W,activeIndex:b,overIndex:m,index:D}):null,ce=Ve(b)&&Ve(m)?i({id:s,items:d,activeIndex:b,overIndex:m}):D,se=E?.id,N=a.useRef({activeId:se,items:d,newIndex:ce,containerId:f}),Ie=d!==N.current.items,ee=t({active:E,containerId:f,isDragging:C,isSorting:U,id:s,index:D,items:d,newIndex:N.current.newIndex,previousItems:N.current.items,previousContainerId:N.current.containerId,transition:u,wasDragging:N.current.activeId!=null}),be=ro({disabled:!ee,index:D,node:p,rect:h});return a.useEffect(()=>{U&&N.current.newIndex!==ce&&(N.current.newIndex=ce),f!==N.current.containerId&&(N.current.containerId=f),d!==N.current.items&&(N.current.items=d)},[U,ce,f,d]),a.useEffect(()=>{if(se===N.current.activeId)return;if(se!=null&&N.current.activeId==null){N.current.activeId=se;return}const me=setTimeout(()=>{N.current.activeId=se},50);return()=>clearTimeout(me)},[se]),{active:E,activeIndex:b,attributes:$,data:I,rect:h,index:D,newIndex:ce,items:d,isOver:k,isSorting:U,isDragging:C,listeners:L,node:p,overIndex:m,over:j,setNodeRef:Xe,setActivatorNodeRef:M,setDroppableNodeRef:R,setDraggableNodeRef:z,transform:be??Ue,transition:ae()};function ae(){if(be||Ie&&N.current.newIndex===D)return to;if(!(ve&&!mt(B)||!u)&&(U||ee))return Pe.Transition.toString({...u,property:un})}}function io(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e?.draggable)!=null?n:t.draggable,droppable:(r=e?.droppable)!=null?r:t.droppable}}T.Down,T.Right,T.Up,T.Left;const ao=()=>{const[e,t]=a.useState(""),[n,r]=a.useState(""),[o,i]=a.useState([]),[s,l]=a.useState(!1),[c,u]=a.useState(""),[d,f]=a.useState(""),[b,g]=a.useState(!1),A=()=>Math.random().toString(36).slice(2,10);function v(h){return h.map(p=>({id:p.id||A(),title:p.title,children:p.children?v(p.children):null}))}const m=()=>y.jsx("span",{style:{display:"flex",alignItems:"center",justifyContent:"center",cursor:"grab",userSelect:"none",color:"#6b7280",width:"100%",height:"100%"},title:"드래그로 순서 변경",children:y.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:y.jsx("path",{d:"M8 6h8M8 12h8M8 18h8"})})});function w({node:h,onEdit:p,onAdd:k,onDelete:R,renderChildren:E}){const{attributes:B,listeners:W,setNodeRef:$,transform:z,transition:L,isDragging:C}=oo({id:h.id}),j={transform:Pe.Transform.toString(z),transition:L,opacity:C?.5:1,background:C?"#e0e7ff":"#f9fafb",marginBottom:12,padding:16,borderRadius:8,boxShadow:C?"0 4px 12px rgba(59,130,246,0.2)":"0 2px 4px rgba(0,0,0,0.05)",display:"flex",flexDirection:"column",alignItems:"stretch",border:C?"2px solid #2563eb":"1px solid #e5e7eb",cursor:"grab",minHeight:60};return y.jsxs("li",{ref:$,style:j,...B,...W,children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",width:"100%",background:"rgba(0,0,0,0.02)",borderRadius:6,padding:"12px",marginBottom:8},children:[y.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",width:"40px",height:"40px",background:"rgba(0,0,0,0.05)",borderRadius:6,marginRight:12,cursor:"grab"},children:y.jsx(m,{})}),y.jsx("input",{value:h.title,onChange:M=>p(h.id,M.target.value),style:{fontSize:16,fontWeight:500,flex:1,background:"transparent",border:"none",outline:"none",color:"#1f2937"},placeholder:"제목을 입력하세요"}),y.jsxs("div",{style:{display:"flex",gap:6,marginLeft:12},children:[y.jsxs("button",{onClick:()=>k(h.id),style:{background:"rgba(5, 150, 105, 0.1)",border:"1px solid rgba(5, 150, 105, 0.2)",cursor:"pointer",padding:"8px 12px",borderRadius:6,display:"flex",alignItems:"center",justifyContent:"center",color:"#059669",transition:"all 0.2s",fontSize:13,fontWeight:500},title:"하위 항목 추가",onMouseEnter:M=>{M.currentTarget.style.background="rgba(5, 150, 105, 0.15)",M.currentTarget.style.transform="translateY(-1px)"},onMouseLeave:M=>{M.currentTarget.style.background="rgba(5, 150, 105, 0.1)",M.currentTarget.style.transform="translateY(0)"},children:[y.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",style:{marginRight:4},children:y.jsx("path",{d:"M12 5v14M5 12h14"})}),"추가"]}),y.jsxs("button",{onClick:()=>R(h.id),style:{background:"rgba(220, 38, 38, 0.1)",border:"1px solid rgba(220, 38, 38, 0.2)",cursor:"pointer",padding:"8px 12px",borderRadius:6,display:"flex",alignItems:"center",justifyContent:"center",color:"#dc2626",transition:"all 0.2s",fontSize:13,fontWeight:500},title:"삭제",onMouseEnter:M=>{M.currentTarget.style.background="rgba(220, 38, 38, 0.15)",M.currentTarget.style.transform="translateY(-1px)"},onMouseLeave:M=>{M.currentTarget.style.background="rgba(220, 38, 38, 0.1)",M.currentTarget.style.transform="translateY(0)"},children:[y.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",style:{marginRight:4},children:y.jsx("path",{d:"M3 6h18M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})}),"삭제"]})]})]}),h.children&&h.children.length>0&&E(h.children)]})}function S({nodes:h,setNodes:p}){const k=Ln(Nn(St)),R=(z,L)=>{const C=j=>j.map(M=>M.id===z?{...M,title:L}:{...M,children:M.children?C(M.children):M.children});p(C(h))},E=z=>{const L=C=>C.map(j=>j.id===z?{...j,children:[...j.children||[],{id:A(),title:"새 항목",children:null}]}:{...j,children:j.children?L(j.children):j.children});p(L(h))},B=z=>{const L=C=>C.filter(j=>j.id!==z).map(j=>({...j,children:j.children?L(j.children):j.children}));p(L(h))},W=z=>{const{active:L,over:C}=z;if(!C||L.id===C.id)return;const j=h.findIndex(oe=>oe.id===L.id),M=h.findIndex(oe=>oe.id===C.id);p(Ct(h,j,M))},$=z=>y.jsx(_r,{items:z.map(L=>L.id),strategy:qr,children:y.jsx("ul",{style:{marginLeft:16},children:z.map(L=>y.jsx(w,{node:L,onEdit:R,onAdd:E,onDelete:B,renderChildren:C=>$(C)},L.id))})});return y.jsx(Pr,{sensors:k,collisionDetection:Fn,onDragEnd:W,children:$(h)})}const x=async()=>{l(!0),u("");try{const h=await fetch("http://localhost:8000/generate-outline-from-topic",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({topic:e})});if(!h.ok)throw new Error("API 응답 오류");const p=await h.json();r(p.template_text),i(v(p.outline.outline))}catch{u("API 호출 중 오류가 발생했습니다.")}l(!1)};function D(h){return h.map(p=>({...p,sections:p.children?D(p.children):void 0,children:void 0}))}const I=()=>{f(""),g(!0);const h=D(o),p=new O("http://localhost:8000/generate-report",{headers:{"Content-Type":"application/json",Accept:"text/event-stream"},payload:JSON.stringify({topic:e,outline:{chapters:h}}),method:"POST"});p.onmessage=k=>{try{const R=JSON.parse(k.data);R.type==="done"?(g(!1),p.close()):R.payload&&f(E=>E+R.payload)}catch{g(!1),p.close()}},p.onerror=()=>{g(!1),p.close(),u("보고서 생성 중 오류가 발생했습니다.")}};class O{controller;onmessage;onerror;constructor(p,k){this.controller=new AbortController,this.onmessage=null,this.onerror=null,fetch(p,{method:k.method||"GET",headers:k.headers,body:k.payload,signal:this.controller.signal}).then(async R=>{if(!R.body)throw new Error("No response body");const E=R.body.getReader();let B="";for(;;){const{value:W,done:$}=await E.read();if($)break;B+=new TextDecoder().decode(W);let z=B.split(`
`);B=z.pop()||"";for(const L of z)if(L.startsWith("data:")){const C=L.replace(/^data:\s*/,"");this.onmessage&&this.onmessage({data:C})}}}).catch(R=>{this.onerror&&this.onerror(R)})}close(){this.controller.abort()}}return y.jsxs("div",{style:{maxWidth:800,margin:"0 auto",padding:24},children:[y.jsxs("div",{style:{background:"#f8fafc",padding:24,borderRadius:12,border:"1px solid #e2e8f0",marginBottom:24},children:[y.jsx("h2",{style:{fontSize:24,fontWeight:700,marginBottom:20,color:"#1e293b"},children:"📝 보고서 주제 입력"}),y.jsxs("div",{style:{marginBottom:16},children:[y.jsx("label",{style:{display:"block",fontSize:14,fontWeight:600,color:"#475569",marginBottom:8},children:"보고서 주제"}),y.jsx("input",{type:"text",value:e,onChange:h=>t(h.target.value),placeholder:"예: 기업 ESG 경영 전략 분석, 탄소중립 정책 현황 및 전망...",style:{width:"100%",padding:"12px 16px",fontSize:16,border:"2px solid #e2e8f0",borderRadius:8,outline:"none",transition:"all 0.2s",background:"white"},onFocus:h=>{h.target.style.borderColor="#3b82f6",h.target.style.boxShadow="0 0 0 3px rgba(59, 130, 246, 0.1)"},onBlur:h=>{h.target.style.borderColor="#e2e8f0",h.target.style.boxShadow="none"}})]}),y.jsx("button",{onClick:x,disabled:s||!e,style:{padding:"12px 24px",fontSize:16,fontWeight:600,background:s||!e?"#94a3b8":"#2563eb",color:"white",border:"none",borderRadius:8,cursor:s||!e?"not-allowed":"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",gap:8},onMouseEnter:h=>{!s&&e&&(h.currentTarget.style.background="#1d4ed8",h.currentTarget.style.transform="translateY(-1px)")},onMouseLeave:h=>{!s&&e&&(h.currentTarget.style.background="#2563eb",h.currentTarget.style.transform="translateY(0)")},children:s?y.jsxs(y.Fragment,{children:[y.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:y.jsx("path",{d:"M12 2v4M12 18v4M4.93 4.93l2.83 2.83M16.24 16.24l2.83 2.83M2 12h4M18 12h4M4.93 19.07l2.83-2.83M16.24 7.76l2.83-2.83"})}),"생성 중..."]}):y.jsxs(y.Fragment,{children:[y.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:y.jsx("path",{d:"M12 5v14M5 12h14"})}),"보고서 목차 생성"]})}),c&&y.jsxs("div",{style:{color:"#dc2626",marginTop:12,padding:"8px 12px",background:"#fef2f2",border:"1px solid #fecaca",borderRadius:6,fontSize:14},children:["⚠️ ",c]})]}),o&&o.length>0&&y.jsxs("div",{style:{marginTop:32},children:[y.jsx("h3",{style:{fontSize:20,fontWeight:600,marginBottom:8},children:"목차 트리(드래그/수정 가능)"}),y.jsx(S,{nodes:o,setNodes:i}),y.jsx("button",{onClick:I,disabled:b||!e||o.length===0,style:{marginTop:16,padding:"8px 20px",fontSize:16,fontWeight:600,background:"#059669",color:"white",border:"none",borderRadius:4,cursor:b?"not-allowed":"pointer"},children:b?"보고서 생성 중...":"보고서 본문 생성"})]}),d&&y.jsxs("div",{style:{marginTop:32},children:[y.jsx("h3",{style:{fontSize:20,fontWeight:600,marginBottom:8},children:"보고서 본문"}),y.jsx("pre",{style:{background:"#f4f4f4",padding:16,borderRadius:6,whiteSpace:"pre-wrap"},children:d})]})]})};export{ao as default};
